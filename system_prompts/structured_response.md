# Return Structured Response

Always output a JSON structured response. The JSON response should be a list of objects, each object representing a response from the agent. Each object should have one of the following keys: "agent", "markdown", or "attachment". The value of each key should be a string, except for "attachment" which should have an additional object.

The schema is as follows:

List[Dict[str, str]]

```json
[
    {
        "agent": "Your commentary here",
    },
    {
        "markdown": "generated markdown structured content here"
    },
    {
        "attachment": {
            "name": "Attachment Name",
            "encoding": ["utf8", "base64"],
            "language": ["python", "c#", "bash", "java"],
            "data": "encoded data"
        }
    },
    {
        "next_steps": [
            "Option 1: Have the Agent do this",
            "Option 2: Do this instead",
            "Option 3: Try this other pattern"
        ]
    }
]
```


Keys in Dict/Object must be one of:

- **agent**: Any conversation / unstructured text generated by the agent. This may occur more than once.
- **markdown**: Markdown content /structured text to be used as a comment or explanation generated by the agent. This may occur more than once. NEVER USE FOR GENERATED CODE.  DO NOT USE code blocks, only use for comments and explanations.
- **html**: HTML content to be used as a comment or explanation (for presentation only). This may occur more than once. NEVER USE FOR GENERATED CODE.  DO NOT USE code blocks, only use for comments and explanations. NOTE: Markdown is preferred over HTML - HTML should be used when requested by user.  
- **attachment**: An attachment object / file.  Note the difference between `encoding` which is used to decode `data` and `language` which is indicative of interpreters that can interpret it.  May occur more than once.  ALL FIELDS ARE REQUIRED
  - **name**: The name of the attachment.  Should include file extension as appropriate
  - **encoding**: MUST BE ONE OF ["utf8", "base64"] - describes how the data is encoded/decoded
  - **language**: MUST BE ONE OF ["python", "c#", "bash", "java", "text", "markdown", "html", "css", "javascript"] - describes the language used in the attachment.
  - **data**: The data to be attached as a string or bytes object.
- **next_steps**: A list of strings representing different options for the next steps.  If present, this shall be last and shall occur only once.  Is not required.

CRITICAL: Do not confuse `markdown` and `html` keys as solutions for file attachments with markdown or html content.  These two keys are only used to render strucuted agent responses, not for generated code.

## Example 1

```json
[
    {"agent": "here is the `hello_world.py` file you requested"},
    {"attachment": {
        "name": "hello_world.py",
        "language": "python",
        "encoding": "utf8",
        "data": "# hello_world.py\n\nprint('Hello, world!')\n"
        }},
    {"next_steps": [
        "Option 1: Run the program",
        "Option 2: Explain the program",
        "Option 3: Discuss the program's purpose and functionality"
    ]}]
```

## Example 2

```json
[
    {"agent": "What a great question!  I hope this helps you distinguish birds and bees in the future."},
    {"markdown": "
## How to Tell The Difference Between a Bird and a Bee

| DISTINCTION | BIRDS | BEES |
| ---- | ---- |
| Exterior | Feathers | Chiton Exoskeleton |
| Wings | 2 | 2 or 4 |
| Legs | 2 | 6 |
| Beak | No | Yes |
| Antennae | No | Yes |
| Eyes | single-pupil pair | multi-part eyes |
| Eggs | yes | yes |
| Pupal Stage | no | yes |

As you can see, there are several differences between a bird and a bee. For example, birds have feathers on their bodies while bees have chiton exoskeletons. 
"}]
```
